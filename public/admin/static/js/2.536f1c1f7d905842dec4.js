webpackJsonp([2],{231:function(e,t,s){s(543);var i=s(23)(s(291),s(756),"data-v-56f24369",null);e.exports=i.exports},291:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(54),o=s.n(i);t.default={name:"UserDetails",data:function(){return{isLoading:!1,isAdd:!0,userListLoading:!1,userList:[],form:{id:null,user:"newUser",password:"",role_id:null,description:"一个新的用户",updated_at:null,created_at:null}}},props:{data:{type:Object,required:!0},config:{type:Object,required:!0}},methods:{onAdd:function(){var e=this;this.isLoading=!0,this.getData("core/user/add",this.form).then(function(t){e.isLoading=!1,e.$message.success("添加成功"),e.$emit("emit","UserList",{event:"refresh"}),e.onClose()},function(t){e.isLoading=!1,e.$message.warning(t.msg)})},onUpdate:function(){var e=this;this.isLoading=!0,this.getData("core/user/update",this.form).then(function(t){e.isLoading=!1,e.$message.success("更新成功"),e.$emit("emit","UserList",{event:"refresh"}),e.onClose()},function(t){e.isLoading=!1,e.$message.warning(t.msg)})},remoteMethod:function(e){var t=this,s=void 0;if("number"==typeof e&&e>0)s={id:e};else{if("string"!=typeof e)return;s={name:{$like:"%"+e+"%"}}}this.userListLoading=!0,this.getData("core/role/list",{unit_step:5,page_current:1,option:{where:s}}).then(function(e){t.userList=e.list_data,t.userListLoading=!1},function(e){t.userListLoading=!1,t.userListLoading=[],t.$message.warning(e.msg)})},onClose:function(){this.isAdd?this.$emit("close","UserAdd"):this.$emit("close","UserDetails",this.form.id)}},created:function(){null!==this.data.id&&(this.isLoading=!0,this.isAdd=!1,o()(this.form,this.data),this.isLoading=!1)}}},474:function(e,t,s){t=e.exports=s(215)(!0),t.push([e.i,".user-details[data-v-56f24369]{margin:15px}","",{version:3,sources:["D:/project/GitHub/myapp-admin/src/window/UserDetails.vue"],names:[],mappings:"AACA,+BACC,WAAa,CACb",file:"UserDetails.vue",sourcesContent:["\n.user-details[data-v-56f24369] {\n\tmargin: 15px;\n}\n"],sourceRoot:""}])},543:function(e,t,s){var i=s(474);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);s(216)("79193c06",i,!0)},756:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],ref:"form",staticClass:"user-details",attrs:{model:e.form,"element-loading-text":"拼命加载中","label-width":"70px"}},[s("el-form-item",{attrs:{label:"名称"}},[s("el-input",{attrs:{placeholder:"请输入角色名称"},model:{value:e.form.user,callback:function(t){e.form.user=t},expression:"form.user"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"密码"}},[s("el-input",{attrs:{type:"password",placeholder:"请输入角色密码"},model:{value:e.form.password,callback:function(t){e.form.password=t},expression:"form.password"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"所属角色"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"","remote-method":e.remoteMethod,loading:e.userListLoading,placeholder:"请选择所属角色"},model:{value:e.form.role_id,callback:function(t){e.form.role_id=t},expression:"form.role_id"}},e._l(e.userList,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"描述"}},[s("el-input",{attrs:{type:"textarea",autosize:{minRows:2},placeholder:"请输入描述"},model:{value:e.form.description,callback:function(t){e.form.description=t},expression:"form.description"}})],1),e._v(" "),s("el-form-item",[e.isAdd?s("el-button",{attrs:{type:"primary"},on:{click:e.onAdd}},[e._v("立即添加")]):s("el-button",{attrs:{type:"primary"},on:{click:e.onUpdate}},[e._v("修改")]),e._v(" "),s("el-button",{on:{click:e.onClose}},[e._v("取消")])],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=2.536f1c1f7d905842dec4.js.map