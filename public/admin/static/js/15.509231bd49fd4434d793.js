webpackJsonp([15],{217:function(t,e,a){var i=a(23)(a(277),a(764),null,null);t.exports=i.exports},277:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Api",data:function(){return{isLoading:!1,filtersVerificationData:[{text:"所有用户",value:0},{text:"已登录的用户",value:1},{text:"超级管理员",value:2},{text:"角色权限管理",value:3}],tableData:[]}},props:{data:{type:Object,required:!0},config:{type:Object,required:!0}},filters:{toUpperCase:function(t){return t.toUpperCase()},date:function(t){var e=new Date(t);return[e.getFullYear(),e.getMonth()+1,e.getDate()].join("-")}},computed:{apiMark:function(){return this.data.core?"core/api/core":"core/api/list"}},methods:{refreshData:function(){var t=this;this.isLoading=!0,this.getData(this.apiMark).then(function(e){t.tableData=e,t.isLoading=!1},function(e){t.isLoading=!1,t.$message.warning(e.msg)})},readme:function(t,e){this.$emit("open","Readme","api-"+e.mark,{api:"core/api/core/help",typeText:"API",mark:e.mark})},handleEdit:function(t,e){this.$emit("open","ApiDetails",e.id,e)},handleDelete:function(t,e){var a=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.getData("core/api/del",{id:e.id}).then(function(t){a.$message.success("删除成功"),a.refreshData()},function(t){a.$message.warning(t.msg)})})},filtersVerification:function(t,e){return e.verification===t}},created:function(){this.refreshData(),this.$on("refresh",this.refreshData)}}},764:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,height:t.config.other.containerHeight,border:"","element-loading-text":"拼命加载中"}},[t.data.core?t._e():a("el-table-column",{attrs:{prop:"id",label:"ID",sortable:"",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mark",label:"标识",sortable:"","min-width":"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:"gray"}},[a("span",{attrs:{title:e.row.mark}},[t._v(t._s(e.row.mark))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"验证模式",prop:"verification",sortable:"",filters:t.filtersVerificationData,"filter-method":t.filtersVerification,"filter-multiple":!1,width:"135"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.verification?a("el-tag",[a("span",{attrs:{title:"所有用户"}},[t._v("所有用户")])]):1===e.row.verification?a("el-tag",[a("span",{attrs:{title:"已登录的用户"}},[t._v("已登录的用户")])]):2===e.row.verification?a("el-tag",[a("span",{attrs:{title:"超级管理员"}},[t._v("超级管理员")])]):a("el-tag",[a("span",{attrs:{title:"角色权限管理"}},[t._v("角色权限管理")])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"description",label:"描述","min-width":"210"}}),t._v(" "),t.data.core?t._e():a("el-table-column",{attrs:{label:"更新时间",sortable:"",width:"115"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("date")(e.row.updated_at)))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.data.core?a("el-button",{attrs:{size:"small"},on:{click:function(a){t.readme(e.$index,e.row)}}},[t._v("使用说明")]):t._e(),t._v(" "),t.data.core?t._e():a("el-button",{attrs:{size:"small"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),t.data.core?t._e():a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)},staticRenderFns:[]}}});
//# sourceMappingURL=15.509231bd49fd4434d793.js.map