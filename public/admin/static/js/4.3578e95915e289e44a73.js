webpackJsonp([4],{229:function(t,e,o){o(548);var n=o(23)(o(289),o(763),"data-v-ced7d908",null);t.exports=n.exports},289:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(54),i=o.n(n),a=function(t){return o.e(18).then(function(){var e=[o(247)];t.apply(null,e)}.bind(this)).catch(o.oe)};e.default={name:"ToolDetails",data:function(){return{isLoading:!1,isAdd:!0,form:{id:null,mark:"test/test",description:"新添加的工具方法",controller_code:"async function tool () {\n\n\t/**\n\t * 工具控制器\n\t * @param  {Function} this.getTool  获取工具方法\n\t * @param  {Function} this.getPath  返回从项目根目录开始的路径\n\t * @param  {Object}   this.store    集中状态管理，各个工具、路由、AIP数据的交换可以放在这个对象中\n\t * @param  {Object}   this.db       数据库\n\t */\n\n}",updated_at:null,created_at:null}}},props:{data:{type:Object,required:!0},config:{type:Object,required:!0}},methods:{checkCode:function(){return this.getData("core/checkCode",{code:this.form.controller_code})},onAdd:function(){var t=this;this.isLoading=!0,this.checkCode().then(function(e){return t.getData("core/tool/add",t.form)}).then(function(e){t.isLoading=!1,t.$message.success("添加成功"),t.$emit("emit","ToolList",{event:"refresh"}),t.onClose()}).catch(function(e){t.isLoading=!1,t.$message.warning(e.msg)})},onUpdate:function(){var t=this;this.isLoading=!0,this.checkCode().then(function(e){return t.getData("core/tool/update",t.form)}).then(function(e){t.isLoading=!1,t.$message.success("更新成功"),t.$emit("emit","ToolList",{event:"refresh"}),t.onClose()}).catch(function(e){t.isLoading=!1,t.$message.warning(e.msg)})},onClose:function(){this.isAdd?this.$emit("close","ToolAdd"):this.$emit("close","ToolDetails",this.form.id)}},components:{codemirror:a},created:function(){var t=this;null!==this.data.id&&(this.isLoading=!0,this.isAdd=!1,this.getData("core/tool/get",{id:this.data.id}).then(function(e){t.isLoading=!1,i()(t.form,e)},function(e){t.$message.warning(e.msg)}))}}},479:function(t,e,o){e=t.exports=o(215)(!0),e.push([t.i,".tool-details[data-v-ced7d908]{margin:15px}","",{version:3,sources:["D:/project/GitHub/myapp-admin/src/window/ToolDetails.vue"],names:[],mappings:"AACA,+BACC,WAAa,CACb",file:"ToolDetails.vue",sourcesContent:["\n.tool-details[data-v-ced7d908] {\n\tmargin: 15px;\n}\n"],sourceRoot:""}])},548:function(t,e,o){var n=o(479);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);o(216)("aef3a314",n,!0)},763:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],ref:"form",staticClass:"tool-details",attrs:{model:t.form,"element-loading-text":"拼命加载中","label-width":"85px"}},[o("el-form-item",{attrs:{label:"标识"}},[o("el-input",{attrs:{placeholder:"请输入API标识"},model:{value:t.form.mark,callback:function(e){t.form.mark=e},expression:"form.mark"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"描述"}},[o("el-input",{attrs:{type:"textarea",autosize:{minRows:2},placeholder:"请输入描述"},model:{value:t.form.description,callback:function(e){t.form.description=e},expression:"form.description"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"控制器代码"}},[o("div",{staticClass:"codemirror"},[o("codemirror",{ref:"myEditor",model:{value:t.form.controller_code,callback:function(e){t.form.controller_code=e},expression:"form.controller_code"}})],1)]),t._v(" "),o("el-form-item",[t.isAdd?o("el-button",{attrs:{type:"primary"},on:{click:t.onAdd}},[t._v("立即添加")]):o("el-button",{attrs:{type:"primary"},on:{click:t.onUpdate}},[t._v("修改")]),t._v(" "),o("el-button",{on:{click:t.onClose}},[t._v("取消")])],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=4.3578e95915e289e44a73.js.map